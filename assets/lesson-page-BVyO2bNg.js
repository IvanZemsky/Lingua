import{C as bt,r as R,D as $,k as Xe,d as A,j as D,E as _t,c as q,o as v,w as P,u as d,G as kt,H as qe,I as Zt,J as Jt,K as ve,L as en,f as _,a as B,m as se,M as Ye,i as Ct,N as it,n as tn,l as nn,v as Pt,O as At,P as Ot,Q as $t,s as de,S as St,q as on,p as S,_ as qt,y as Bt,T as rn,b as re,t as M,e as sn,F as H,h as ie,U as an,V as ln,W,X as ue,B as un,g as oe,Y as Ne,R as cn}from"./index-BrWTBu8a.js";import{f as dn,D as fn,F as pn,c as mn,d as Ae,b as gn,u as Rt,P as vn,T as hn,e as Tt,X as yn,_ as we,h as wn}from"./x-qs2pD214.js";import{_ as xn}from"./ui-progress.vue_vue_type_script_setup_true_lang-82hv38UJ.js";import{i as bn,e as _n,c as Ge,b as be,P as Be,f as kn,u as Cn,r as Pn,d as Qe,a as An,_ as On}from"./card-content.vue_vue_type_script_setup_true_lang-Ctn49PYP.js";let We=0;function $n(){bt(e=>{if(!bn)return;const t=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",t[0]??at()),document.body.insertAdjacentElement("beforeend",t[1]??at()),We++,e(()=>{We===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(n=>n.remove()),We--})})}function at(){const e=document.createElement("span");return e.setAttribute("data-reka-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function Sn(e){const t=R(),n=$(()=>t.value?.width??0),o=$(()=>t.value?.height??0);return Xe(()=>{const r=_n(e);if(r){t.value={width:r.offsetWidth,height:r.offsetHeight};const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let a,u;if("borderBoxSize"in l){const c=l.borderBoxSize,f=Array.isArray(c)?c[0]:c;a=f.inlineSize,u=f.blockSize}else a=r.offsetWidth,u=r.offsetHeight;t.value={width:a,height:u}});return s.observe(r,{box:"border-box"}),()=>s.unobserve(r)}else t.value=void 0}),{width:n,height:o}}const[Et,qn]=Ge("PopperRoot");var Bn=A({inheritAttrs:!1,__name:"PopperRoot",setup(e){const t=R();return qn({anchor:t,onAnchorChange:n=>t.value=n}),(n,o)=>D(n.$slots,"default")}}),Rn=Bn,Tn=A({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,{forwardRef:n,currentElement:o}=be(),r=Et();return _t(()=>{r.onAnchorChange(t.reference??o.value)}),(s,i)=>(v(),q(d(Be),{ref:d(n),as:s.as,"as-child":s.asChild},{default:P(()=>[D(s.$slots,"default")]),_:3},8,["as","as-child"]))}}),En=Tn;function Vn(e){return e!==null}function Dn(e){return{name:"transformOrigin",options:e,fn(t){const{placement:n,rects:o,middlewareData:r}=t,i=r.arrow?.centerOffset!==0,l=i?0:e.arrowWidth,a=i?0:e.arrowHeight,[u,c]=Ie(n),f={start:"0%",center:"50%",end:"100%"}[c],p=(r.arrow?.x??0)+l/2,g=(r.arrow?.y??0)+a/2;let m="",h="";return u==="bottom"?(m=i?f:`${p}px`,h=`${-a}px`):u==="top"?(m=i?f:`${p}px`,h=`${o.floating.height+a}px`):u==="right"?(m=`${-a}px`,h=i?f:`${g}px`):u==="left"&&(m=`${o.floating.width+a}px`,h=i?f:`${g}px`),{data:{x:m,y:h}}}}}function Ie(e){const[t,n="center"]=e.split("-");return[t,n]}const Fn=["top","right","bottom","left"],fe=Math.min,j=Math.max,Re=Math.round,Se=Math.floor,J=e=>({x:e,y:e}),Mn={left:"right",right:"left",bottom:"top",top:"bottom"},Ln={start:"end",end:"start"};function je(e,t,n){return j(e,fe(t,n))}function ae(e,t){return typeof e=="function"?e(t):e}function le(e){return e.split("-")[0]}function _e(e){return e.split("-")[1]}function Ze(e){return e==="x"?"y":"x"}function Je(e){return e==="y"?"height":"width"}const Nn=new Set(["top","bottom"]);function Z(e){return Nn.has(le(e))?"y":"x"}function et(e){return Ze(Z(e))}function Wn(e,t,n){n===void 0&&(n=!1);const o=_e(e),r=et(e),s=Je(r);let i=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Te(i)),[i,Te(i)]}function zn(e){const t=Te(e);return[He(e),t,He(t)]}function He(e){return e.replace(/start|end/g,t=>Ln[t])}const lt=["left","right"],ut=["right","left"],In=["top","bottom"],jn=["bottom","top"];function Hn(e,t,n){switch(e){case"top":case"bottom":return n?t?ut:lt:t?lt:ut;case"left":case"right":return t?In:jn;default:return[]}}function Un(e,t,n,o){const r=_e(e);let s=Hn(le(e),n==="start",o);return r&&(s=s.map(i=>i+"-"+r),t&&(s=s.concat(s.map(He)))),s}function Te(e){return e.replace(/left|right|bottom|top/g,t=>Mn[t])}function Kn(e){return{top:0,right:0,bottom:0,left:0,...e}}function Vt(e){return typeof e!="number"?Kn(e):{top:e,right:e,bottom:e,left:e}}function Ee(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function ct(e,t,n){let{reference:o,floating:r}=e;const s=Z(t),i=et(t),l=Je(i),a=le(t),u=s==="y",c=o.x+o.width/2-r.width/2,f=o.y+o.height/2-r.height/2,p=o[l]/2-r[l]/2;let g;switch(a){case"top":g={x:c,y:o.y-r.height};break;case"bottom":g={x:c,y:o.y+o.height};break;case"right":g={x:o.x+o.width,y:f};break;case"left":g={x:o.x-r.width,y:f};break;default:g={x:o.x,y:o.y}}switch(_e(t)){case"start":g[i]-=p*(n&&u?-1:1);break;case"end":g[i]+=p*(n&&u?-1:1);break}return g}const Xn=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:s=[],platform:i}=n,l=s.filter(Boolean),a=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:r}),{x:c,y:f}=ct(u,o,a),p=o,g={},m=0;for(let h=0;h<l.length;h++){const{name:y,fn:w}=l[h],{x,y:b,data:O,reset:k}=await w({x:c,y:f,initialPlacement:o,placement:p,strategy:r,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});c=x??c,f=b??f,g={...g,[y]:{...g[y],...O}},k&&m<=50&&(m++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(u=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:r}):k.rects),{x:c,y:f}=ct(u,p,a)),h=-1)}return{x:c,y:f,placement:p,strategy:r,middlewareData:g}};async function Ce(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:s,rects:i,elements:l,strategy:a}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=ae(t,e),m=Vt(g),y=l[p?f==="floating"?"reference":"floating":f],w=Ee(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:c,strategy:a})),x=f==="floating"?{x:o,y:r,width:i.floating.width,height:i.floating.height}:i.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),O=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},k=Ee(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:a}):x);return{top:(w.top-k.top+m.top)/O.y,bottom:(k.bottom-w.bottom+m.bottom)/O.y,left:(w.left-k.left+m.left)/O.x,right:(k.right-w.right+m.right)/O.x}}const Yn=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:r,rects:s,platform:i,elements:l,middlewareData:a}=t,{element:u,padding:c=0}=ae(e,t)||{};if(u==null)return{};const f=Vt(c),p={x:n,y:o},g=et(r),m=Je(g),h=await i.getDimensions(u),y=g==="y",w=y?"top":"left",x=y?"bottom":"right",b=y?"clientHeight":"clientWidth",O=s.reference[m]+s.reference[g]-p[g]-s.floating[m],k=p[g]-s.reference[g],V=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=V?V[b]:0;(!C||!await(i.isElement==null?void 0:i.isElement(V)))&&(C=l.floating[b]||s.floating[m]);const T=O/2-k/2,L=C/2-h[m]/2-1,z=fe(f[w],L),Q=fe(f[x],L),E=z,K=C-h[m]-Q,F=C/2-h[m]/2+T,ne=je(E,F,K),X=!a.arrow&&_e(r)!=null&&F!==ne&&s.reference[m]/2-(F<E?z:Q)-h[m]/2<0,I=X?F<E?F-E:F-K:0;return{[g]:p[g]+I,data:{[g]:ne,centerOffset:F-ne-I,...X&&{alignmentOffset:I}},reset:X}}}),Gn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:s,rects:i,initialPlacement:l,platform:a,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:h=!0,...y}=ae(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=le(r),x=Z(l),b=le(l)===l,O=await(a.isRTL==null?void 0:a.isRTL(u.floating)),k=p||(b||!h?[Te(l)]:zn(l)),V=m!=="none";!p&&V&&k.push(...Un(l,h,m,O));const C=[l,...k],T=await Ce(t,y),L=[];let z=((o=s.flip)==null?void 0:o.overflows)||[];if(c&&L.push(T[w]),f){const F=Wn(r,i,O);L.push(T[F[0]],T[F[1]])}if(z=[...z,{placement:r,overflows:L}],!L.every(F=>F<=0)){var Q,E;const F=(((Q=s.flip)==null?void 0:Q.index)||0)+1,ne=C[F];if(ne&&(!(f==="alignment"?x!==Z(ne):!1)||z.every(N=>Z(N.placement)===x?N.overflows[0]>0:!0)))return{data:{index:F,overflows:z},reset:{placement:ne}};let X=(E=z.filter(I=>I.overflows[0]<=0).sort((I,N)=>I.overflows[1]-N.overflows[1])[0])==null?void 0:E.placement;if(!X)switch(g){case"bestFit":{var K;const I=(K=z.filter(N=>{if(V){const ce=Z(N.placement);return ce===x||ce==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(ce=>ce>0).reduce((ce,Qt)=>ce+Qt,0)]).sort((N,ce)=>N[1]-ce[1])[0])==null?void 0:K[0];I&&(X=I);break}case"initialPlacement":X=l;break}if(r!==X)return{reset:{placement:X}}}return{}}}};function dt(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ft(e){return Fn.some(t=>e[t]>=0)}const Qn=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...r}=ae(e,t);switch(o){case"referenceHidden":{const s=await Ce(t,{...r,elementContext:"reference"}),i=dt(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ft(i)}}}case"escaped":{const s=await Ce(t,{...r,altBoundary:!0}),i=dt(s,n.floating);return{data:{escapedOffsets:i,escaped:ft(i)}}}default:return{}}}}},Dt=new Set(["left","top"]);async function Zn(e,t){const{placement:n,platform:o,elements:r}=e,s=await(o.isRTL==null?void 0:o.isRTL(r.floating)),i=le(n),l=_e(n),a=Z(n)==="y",u=Dt.has(i)?-1:1,c=s&&a?-1:1,f=ae(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof m=="number"&&(g=l==="end"?m*-1:m),a?{x:g*c,y:p*u}:{x:p*u,y:g*c}}const Jn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:s,placement:i,middlewareData:l}=t,a=await Zn(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+a.x,y:s+a.y,data:{...a,placement:i}}}}},eo=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:y=>{let{x:w,y:x}=y;return{x:w,y:x}}},...a}=ae(e,t),u={x:n,y:o},c=await Ce(t,a),f=Z(le(r)),p=Ze(f);let g=u[p],m=u[f];if(s){const y=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=g+c[y],b=g-c[w];g=je(x,g,b)}if(i){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=m+c[y],b=m-c[w];m=je(x,m,b)}const h=l.fn({...t,[p]:g,[f]:m});return{...h,data:{x:h.x-n,y:h.y-o,enabled:{[p]:s,[f]:i}}}}}},to=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:o,placement:r,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:a=!0,crossAxis:u=!0}=ae(e,t),c={x:n,y:o},f=Z(r),p=Ze(f);let g=c[p],m=c[f];const h=ae(l,t),y=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(a){const b=p==="y"?"height":"width",O=s.reference[p]-s.floating[b]+y.mainAxis,k=s.reference[p]+s.reference[b]-y.mainAxis;g<O?g=O:g>k&&(g=k)}if(u){var w,x;const b=p==="y"?"width":"height",O=Dt.has(le(r)),k=s.reference[f]-s.floating[b]+(O&&((w=i.offset)==null?void 0:w[f])||0)+(O?0:y.crossAxis),V=s.reference[f]+s.reference[b]+(O?0:((x=i.offset)==null?void 0:x[f])||0)-(O?y.crossAxis:0);m<k?m=k:m>V&&(m=V)}return{[p]:g,[f]:m}}}},no=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:r,rects:s,platform:i,elements:l}=t,{apply:a=()=>{},...u}=ae(e,t),c=await Ce(t,u),f=le(r),p=_e(r),g=Z(r)==="y",{width:m,height:h}=s.floating;let y,w;f==="top"||f==="bottom"?(y=f,w=p===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,y=p==="end"?"top":"bottom");const x=h-c.top-c.bottom,b=m-c.left-c.right,O=fe(h-c[y],x),k=fe(m-c[w],b),V=!t.middlewareData.shift;let C=O,T=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(C=x),V&&!p){const z=j(c.left,0),Q=j(c.right,0),E=j(c.top,0),K=j(c.bottom,0);g?T=m-2*(z!==0||Q!==0?z+Q:j(c.left,c.right)):C=h-2*(E!==0||K!==0?E+K:j(c.top,c.bottom))}await a({...t,availableWidth:T,availableHeight:C});const L=await i.getDimensions(l.floating);return m!==L.width||h!==L.height?{reset:{rects:!0}}:{}}}};function Ve(){return typeof window<"u"}function ge(e){return tt(e)?(e.nodeName||"").toLowerCase():"#document"}function U(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function te(e){var t;return(t=(tt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function tt(e){return Ve()?e instanceof Node||e instanceof U(e).Node:!1}function Y(e){return Ve()?e instanceof Element||e instanceof U(e).Element:!1}function ee(e){return Ve()?e instanceof HTMLElement||e instanceof U(e).HTMLElement:!1}function pt(e){return!Ve()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof U(e).ShadowRoot}const oo=new Set(["inline","contents"]);function Oe(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=G(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!oo.has(r)}const ro=new Set(["table","td","th"]);function so(e){return ro.has(ge(e))}const io=[":popover-open",":modal"];function De(e){return io.some(t=>{try{return e.matches(t)}catch{return!1}})}const ao=["transform","translate","scale","rotate","perspective"],lo=["transform","translate","scale","rotate","perspective","filter"],uo=["paint","layout","strict","content"];function nt(e){const t=ot(),n=Y(e)?G(e):e;return ao.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||lo.some(o=>(n.willChange||"").includes(o))||uo.some(o=>(n.contain||"").includes(o))}function co(e){let t=pe(e);for(;ee(t)&&!xe(t);){if(nt(t))return t;if(De(t))return null;t=pe(t)}return null}function ot(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fo=new Set(["html","body","#document"]);function xe(e){return fo.has(ge(e))}function G(e){return U(e).getComputedStyle(e)}function Fe(e){return Y(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pe(e){if(ge(e)==="html")return e;const t=e.assignedSlot||e.parentNode||pt(e)&&e.host||te(e);return pt(t)?t.host:t}function Ft(e){const t=pe(e);return xe(t)?e.ownerDocument?e.ownerDocument.body:e.body:ee(t)&&Oe(t)?t:Ft(t)}function Pe(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=Ft(e),s=r===((o=e.ownerDocument)==null?void 0:o.body),i=U(r);if(s){const l=Ue(i);return t.concat(i,i.visualViewport||[],Oe(r)?r:[],l&&n?Pe(l):[])}return t.concat(r,Pe(r,[],n))}function Ue(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Mt(e){const t=G(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=ee(e),s=r?e.offsetWidth:n,i=r?e.offsetHeight:o,l=Re(n)!==s||Re(o)!==i;return l&&(n=s,o=i),{width:n,height:o,$:l}}function rt(e){return Y(e)?e:e.contextElement}function ye(e){const t=rt(e);if(!ee(t))return J(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:s}=Mt(t);let i=(s?Re(n.width):n.width)/o,l=(s?Re(n.height):n.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const po=J(0);function Lt(e){const t=U(e);return!ot()||!t.visualViewport?po:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mo(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==U(e)?!1:t}function me(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=rt(e);let i=J(1);t&&(o?Y(o)&&(i=ye(o)):i=ye(e));const l=mo(s,n,o)?Lt(s):J(0);let a=(r.left+l.x)/i.x,u=(r.top+l.y)/i.y,c=r.width/i.x,f=r.height/i.y;if(s){const p=U(s),g=o&&Y(o)?U(o):o;let m=p,h=Ue(m);for(;h&&o&&g!==m;){const y=ye(h),w=h.getBoundingClientRect(),x=G(h),b=w.left+(h.clientLeft+parseFloat(x.paddingLeft))*y.x,O=w.top+(h.clientTop+parseFloat(x.paddingTop))*y.y;a*=y.x,u*=y.y,c*=y.x,f*=y.y,a+=b,u+=O,m=U(h),h=Ue(m)}}return Ee({width:c,height:f,x:a,y:u})}function Me(e,t){const n=Fe(e).scrollLeft;return t?t.left+n:me(te(e)).left+n}function Nt(e,t){const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-Me(e,n),r=n.top+t.scrollTop;return{x:o,y:r}}function go(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const s=r==="fixed",i=te(o),l=t?De(t.floating):!1;if(o===i||l&&s)return n;let a={scrollLeft:0,scrollTop:0},u=J(1);const c=J(0),f=ee(o);if((f||!f&&!s)&&((ge(o)!=="body"||Oe(i))&&(a=Fe(o)),ee(o))){const g=me(o);u=ye(o),c.x=g.x+o.clientLeft,c.y=g.y+o.clientTop}const p=i&&!f&&!s?Nt(i,a):J(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-a.scrollLeft*u.x+c.x+p.x,y:n.y*u.y-a.scrollTop*u.y+c.y+p.y}}function vo(e){return Array.from(e.getClientRects())}function ho(e){const t=te(e),n=Fe(e),o=e.ownerDocument.body,r=j(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),s=j(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let i=-n.scrollLeft+Me(e);const l=-n.scrollTop;return G(o).direction==="rtl"&&(i+=j(t.clientWidth,o.clientWidth)-r),{width:r,height:s,x:i,y:l}}const mt=25;function yo(e,t){const n=U(e),o=te(e),r=n.visualViewport;let s=o.clientWidth,i=o.clientHeight,l=0,a=0;if(r){s=r.width,i=r.height;const c=ot();(!c||c&&t==="fixed")&&(l=r.offsetLeft,a=r.offsetTop)}const u=Me(o);if(u<=0){const c=o.ownerDocument,f=c.body,p=getComputedStyle(f),g=c.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,m=Math.abs(o.clientWidth-f.clientWidth-g);m<=mt&&(s-=m)}else u<=mt&&(s+=u);return{width:s,height:i,x:l,y:a}}const wo=new Set(["absolute","fixed"]);function xo(e,t){const n=me(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,s=ee(e)?ye(e):J(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,a=r*s.x,u=o*s.y;return{width:i,height:l,x:a,y:u}}function gt(e,t,n){let o;if(t==="viewport")o=yo(e,n);else if(t==="document")o=ho(te(e));else if(Y(t))o=xo(t,n);else{const r=Lt(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Ee(o)}function Wt(e,t){const n=pe(e);return n===t||!Y(n)||xe(n)?!1:G(n).position==="fixed"||Wt(n,t)}function bo(e,t){const n=t.get(e);if(n)return n;let o=Pe(e,[],!1).filter(l=>Y(l)&&ge(l)!=="body"),r=null;const s=G(e).position==="fixed";let i=s?pe(e):e;for(;Y(i)&&!xe(i);){const l=G(i),a=nt(i);!a&&l.position==="fixed"&&(r=null),(s?!a&&!r:!a&&l.position==="static"&&!!r&&wo.has(r.position)||Oe(i)&&!a&&Wt(e,i))?o=o.filter(c=>c!==i):r=l,i=pe(i)}return t.set(e,o),o}function _o(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const i=[...n==="clippingAncestors"?De(t)?[]:bo(t,this._c):[].concat(n),o],l=i[0],a=i.reduce((u,c)=>{const f=gt(t,c,r);return u.top=j(f.top,u.top),u.right=fe(f.right,u.right),u.bottom=fe(f.bottom,u.bottom),u.left=j(f.left,u.left),u},gt(t,l,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function ko(e){const{width:t,height:n}=Mt(e);return{width:t,height:n}}function Co(e,t,n){const o=ee(t),r=te(t),s=n==="fixed",i=me(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const a=J(0);function u(){a.x=Me(r)}if(o||!o&&!s)if((ge(t)!=="body"||Oe(r))&&(l=Fe(t)),o){const g=me(t,!0,s,t);a.x=g.x+t.clientLeft,a.y=g.y+t.clientTop}else r&&u();s&&!o&&r&&u();const c=r&&!o&&!s?Nt(r,l):J(0),f=i.left+l.scrollLeft-a.x-c.x,p=i.top+l.scrollTop-a.y-c.y;return{x:f,y:p,width:i.width,height:i.height}}function ze(e){return G(e).position==="static"}function vt(e,t){if(!ee(e)||G(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return te(e)===n&&(n=n.ownerDocument.body),n}function zt(e,t){const n=U(e);if(De(e))return n;if(!ee(e)){let r=pe(e);for(;r&&!xe(r);){if(Y(r)&&!ze(r))return r;r=pe(r)}return n}let o=vt(e,t);for(;o&&so(o)&&ze(o);)o=vt(o,t);return o&&xe(o)&&ze(o)&&!nt(o)?n:o||co(e)||n}const Po=async function(e){const t=this.getOffsetParent||zt,n=this.getDimensions,o=await n(e.floating);return{reference:Co(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Ao(e){return G(e).direction==="rtl"}const Oo={convertOffsetParentRelativeRectToViewportRelativeRect:go,getDocumentElement:te,getClippingRect:_o,getOffsetParent:zt,getElementRects:Po,getClientRects:vo,getDimensions:ko,getScale:ye,isElement:Y,isRTL:Ao};function It(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $o(e,t){let n=null,o;const r=te(e);function s(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function i(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),s();const u=e.getBoundingClientRect(),{left:c,top:f,width:p,height:g}=u;if(l||t(),!p||!g)return;const m=Se(f),h=Se(r.clientWidth-(c+p)),y=Se(r.clientHeight-(f+g)),w=Se(c),b={rootMargin:-m+"px "+-h+"px "+-y+"px "+-w+"px",threshold:j(0,fe(1,a))||1};let O=!0;function k(V){const C=V[0].intersectionRatio;if(C!==a){if(!O)return i();C?i(!1,C):o=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!It(u,e.getBoundingClientRect())&&i(),O=!1}try{n=new IntersectionObserver(k,{...b,root:r.ownerDocument})}catch{n=new IntersectionObserver(k,b)}n.observe(e)}return i(!0),s}function So(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,u=rt(e),c=r||s?[...u?Pe(u):[],...Pe(t)]:[];c.forEach(w=>{r&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const f=u&&l?$o(u,n):null;let p=-1,g=null;i&&(g=new ResizeObserver(w=>{let[x]=w;x&&x.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),n()}),u&&!a&&g.observe(u),g.observe(t));let m,h=a?me(e):null;a&&y();function y(){const w=me(e);h&&!It(h,w)&&n(),h=w,m=requestAnimationFrame(y)}return n(),()=>{var w;c.forEach(x=>{r&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f?.(),(w=g)==null||w.disconnect(),g=null,a&&cancelAnimationFrame(m)}}const qo=Jn,Bo=eo,ht=Gn,Ro=no,To=Qn,Eo=Yn,Vo=to,Do=(e,t,n)=>{const o=new Map,r={platform:Oo,...n},s={...r.platform,_c:o};return Xn(e,t,{...r,platform:s})};function Fo(e){return e!=null&&typeof e=="object"&&"$el"in e}function Ke(e){if(Fo(e)){const t=e.$el;return tt(t)&&ge(t)==="#comment"?null:t}return e}function he(e){return typeof e=="function"?e():d(e)}function Mo(e){return{name:"arrow",options:e,fn(t){const n=Ke(he(e.element));return n==null?{}:Eo({element:n,padding:e.padding}).fn(t)}}}function jt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yt(e,t){const n=jt(e);return Math.round(t*n)/n}function Lo(e,t,n){n===void 0&&(n={});const o=n.whileElementsMounted,r=$(()=>{var C;return(C=he(n.open))!=null?C:!0}),s=$(()=>he(n.middleware)),i=$(()=>{var C;return(C=he(n.placement))!=null?C:"bottom"}),l=$(()=>{var C;return(C=he(n.strategy))!=null?C:"absolute"}),a=$(()=>{var C;return(C=he(n.transform))!=null?C:!0}),u=$(()=>Ke(e.value)),c=$(()=>Ke(t.value)),f=R(0),p=R(0),g=R(l.value),m=R(i.value),h=kt({}),y=R(!1),w=$(()=>{const C={position:g.value,left:"0",top:"0"};if(!c.value)return C;const T=yt(c.value,f.value),L=yt(c.value,p.value);return a.value?{...C,transform:"translate("+T+"px, "+L+"px)",...jt(c.value)>=1.5&&{willChange:"transform"}}:{position:g.value,left:T+"px",top:L+"px"}});let x;function b(){if(u.value==null||c.value==null)return;const C=r.value;Do(u.value,c.value,{middleware:s.value,placement:i.value,strategy:l.value}).then(T=>{f.value=T.x,p.value=T.y,g.value=T.strategy,m.value=T.placement,h.value=T.middlewareData,y.value=C!==!1})}function O(){typeof x=="function"&&(x(),x=void 0)}function k(){if(O(),o===void 0){b();return}if(u.value!=null&&c.value!=null){x=o(u.value,c.value,b);return}}function V(){r.value||(y.value=!1)}return qe([s,i,l,r],b,{flush:"sync"}),qe([u,c],k,{flush:"sync"}),qe(r,V,{flush:"sync"}),Zt()&&Jt(O),{x:ve(f),y:ve(p),strategy:ve(g),placement:ve(m),middlewareData:ve(h),isPositioned:ve(y),floatingStyles:w,update:b}}const No={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[Bs,Wo]=Ge("PopperContent");var zo=A({inheritAttrs:!1,__name:"PopperContent",props:en({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...No}),emits:["placed"],setup(e,{emit:t}){const n=e,o=t,r=Et(),{forwardRef:s,currentElement:i}=be(),l=R(),a=R(),{width:u,height:c}=Sn(a),f=$(()=>n.side+(n.align!=="center"?`-${n.align}`:"")),p=$(()=>typeof n.collisionPadding=="number"?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),g=$(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),m=$(()=>({padding:p.value,boundary:g.value.filter(Vn),altBoundary:g.value.length>0})),h=$(()=>({mainAxis:n.sideFlip,crossAxis:n.alignFlip})),y=kn(()=>[qo({mainAxis:n.sideOffset+c.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&ht({...m.value,...h.value}),n.avoidCollisions&&Bo({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:n.sticky==="partial"?Vo():void 0,...m.value}),!n.prioritizePosition&&n.avoidCollisions&&ht({...m.value,...h.value}),Ro({...m.value,apply:({elements:E,rects:K,availableWidth:F,availableHeight:ne})=>{const{width:X,height:I}=K.reference,N=E.floating.style;N.setProperty("--reka-popper-available-width",`${F}px`),N.setProperty("--reka-popper-available-height",`${ne}px`),N.setProperty("--reka-popper-anchor-width",`${X}px`),N.setProperty("--reka-popper-anchor-height",`${I}px`)}}),a.value&&Mo({element:a.value,padding:n.arrowPadding}),Dn({arrowWidth:u.value,arrowHeight:c.value}),n.hideWhenDetached&&To({strategy:"referenceHidden",...m.value})]),w=$(()=>n.reference??r.anchor.value),{floatingStyles:x,placement:b,isPositioned:O,middlewareData:k}=Lo(w,l,{strategy:n.positionStrategy,placement:f,whileElementsMounted:(...E)=>So(...E,{layoutShift:!n.disableUpdateOnLayoutShift,animationFrame:n.updatePositionStrategy==="always"}),middleware:y}),V=$(()=>Ie(b.value)[0]),C=$(()=>Ie(b.value)[1]);_t(()=>{O.value&&o("placed")});const T=$(()=>k.value.arrow?.centerOffset!==0),L=R("");bt(()=>{i.value&&(L.value=window.getComputedStyle(i.value).zIndex)});const z=$(()=>k.value.arrow?.x??0),Q=$(()=>k.value.arrow?.y??0);return Wo({placedSide:V,onArrowChange:E=>a.value=E,arrowX:z,arrowY:Q,shouldHideArrow:T}),(E,K)=>(v(),_("div",{ref_key:"floatingRef",ref:l,"data-reka-popper-content-wrapper":"",style:Ye({...d(x),transform:d(O)?d(x).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:L.value,"--reka-popper-transform-origin":[d(k).transformOrigin?.x,d(k).transformOrigin?.y].join(" "),...d(k).hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}})},[B(d(Be),se({ref:d(s)},E.$attrs,{"as-child":n.asChild,as:E.as,"data-side":V.value,"data-align":C.value,style:{animation:d(O)?void 0:"none"}}),{default:P(()=>[D(E.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4))}}),Io=zo;const[$e,jo]=Ge("PopoverRoot");var Ho=A({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:["update:open"],setup(e,{emit:t}){const n=e,o=t,{modal:r}=Ct(n),s=Cn(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0}),i=R(),l=R(!1);return jo({contentId:"",triggerId:"",modal:r,open:s,onOpenChange:a=>{s.value=a},onOpenToggle:()=>{s.value=!s.value},triggerElement:i,hasCustomAnchor:l}),(a,u)=>(v(),q(d(Rn),null,{default:P(()=>[D(a.$slots,"default",{open:d(s),close:()=>s.value=!1})]),_:3}))}}),Uo=Ho,Ko=A({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,o=t,r=dn(Pn(n,"trapFocus","disableOutsidePointerEvents")),{forwardRef:s}=be(),i=$e();return $n(),(l,a)=>(v(),q(d(pn),{"as-child":"",loop:"",trapped:l.trapFocus,onMountAutoFocus:a[5]||(a[5]=u=>o("openAutoFocus",u)),onUnmountAutoFocus:a[6]||(a[6]=u=>o("closeAutoFocus",u))},{default:P(()=>[B(d(fn),{"as-child":"","disable-outside-pointer-events":l.disableOutsidePointerEvents,onPointerDownOutside:a[0]||(a[0]=u=>o("pointerDownOutside",u)),onInteractOutside:a[1]||(a[1]=u=>o("interactOutside",u)),onEscapeKeyDown:a[2]||(a[2]=u=>o("escapeKeyDown",u)),onFocusOutside:a[3]||(a[3]=u=>o("focusOutside",u)),onDismiss:a[4]||(a[4]=u=>d(i).onOpenChange(!1))},{default:P(()=>[B(d(Io),se(d(r),{id:d(i).contentId,ref:d(s),"data-state":d(i).open.value?"open":"closed","aria-labelledby":d(i).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:P(()=>[D(l.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),Ht=Ko,Xo=A({__name:"PopoverContentModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,o=t,r=$e(),s=R(!1);mn(!0);const i=Ae(n,o),{forwardRef:l,currentElement:a}=be();return gn(a),(u,c)=>(v(),q(Ht,se(d(i),{ref:d(l),"trap-focus":d(r).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:c[0]||(c[0]=it(f=>{o("closeAutoFocus",f),s.value||d(r).triggerElement.value?.focus()},["prevent"])),onPointerDownOutside:c[1]||(c[1]=f=>{o("pointerDownOutside",f);const p=f.detail.originalEvent,g=p.button===0&&p.ctrlKey===!0,m=p.button===2||g;s.value=m}),onFocusOutside:c[2]||(c[2]=it(()=>{},["prevent"]))}),{default:P(()=>[D(u.$slots,"default")]),_:3},16,["trap-focus"]))}}),Yo=Xo,Go=A({__name:"PopoverContentNonModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,o=t,r=$e(),s=R(!1),i=R(!1),l=Ae(n,o);return(a,u)=>(v(),q(Ht,se(d(l),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:u[0]||(u[0]=c=>{o("closeAutoFocus",c),c.defaultPrevented||(s.value||d(r).triggerElement.value?.focus(),c.preventDefault()),s.value=!1,i.value=!1}),onInteractOutside:u[1]||(u[1]=async c=>{o("interactOutside",c),c.defaultPrevented||(s.value=!0,c.detail.originalEvent.type==="pointerdown"&&(i.value=!0));const f=c.target;d(r).triggerElement.value?.contains(f)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&i.value&&c.preventDefault()})}),{default:P(()=>[D(a.$slots,"default")]),_:3},16))}}),Qo=Go,Zo=A({__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,o=t,r=$e(),s=Ae(n,o),{forwardRef:i}=be();return r.contentId||=Rt(void 0,"reka-popover-content"),(l,a)=>(v(),q(d(vn),{present:l.forceMount||d(r).open.value},{default:P(()=>[d(r).modal.value?(v(),q(Yo,se({key:0},d(s),{ref:d(i)}),{default:P(()=>[D(l.$slots,"default")]),_:3},16)):(v(),q(Qo,se({key:1},d(s),{ref:d(i)}),{default:P(()=>[D(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Jo=Zo,er=A({__name:"PopoverPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(n,o)=>(v(),q(d(hn),tn(nn(t)),{default:P(()=>[D(n.$slots,"default")]),_:3},16))}}),tr=er,nr=A({__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,n=$e(),{forwardRef:o,currentElement:r}=be();return n.triggerId||=Rt(void 0,"reka-popover-trigger"),Xe(()=>{n.triggerElement.value=r.value}),(s,i)=>(v(),q(Pt(d(n).hasCustomAnchor.value?d(Be):d(En)),{"as-child":""},{default:P(()=>[B(d(Be),{id:d(n).triggerId,ref:d(o),type:s.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":d(n).open.value,"aria-controls":d(n).contentId,"data-state":d(n).open.value?"open":"closed",as:s.as,"as-child":t.asChild,onClick:d(n).onOpenToggle},{default:P(()=>[D(s.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),or=nr;const rr=A({__name:"ui-input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=At(n,"modelValue",t,{passive:!0,defaultValue:n.defaultValue});return(s,i)=>Ot((v(),_("input",{"onUpdate:modelValue":i[0]||(i[0]=l=>St(r)?r.value=l:null),"data-slot":"input",class:de(d(Qe)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n.class))},null,2)),[[$t,d(r)]])}}),Ut=A({__name:"ui-textarea",props:{class:{},defaultValue:{},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=At(n,"modelValue",t,{passive:!0,defaultValue:n.defaultValue});return(s,i)=>Ot((v(),_("textarea",{"onUpdate:modelValue":i[0]||(i[0]=l=>St(r)?r.value=l:null),"data-slot":"textarea",class:de(d(Qe)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n.class))},null,2)),[[$t,d(r)]])}}),sr=A({__name:"UiPopover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const r=Ae(e,t);return(s,i)=>(v(),q(d(Uo),se({"data-slot":"popover"},d(r)),{default:P(()=>[D(s.$slots,"default")]),_:3},16))}}),ir=A({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{default:"center"},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,o=t,r=on(n,"class"),s=Ae(r,o);return(i,l)=>(v(),q(d(tr),null,{default:P(()=>[B(d(Jo),se({"data-slot":"popover-content"},{...d(s),...i.$attrs},{class:d(Qe)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md origin-(--reka-popover-content-transform-origin) outline-hidden",n.class)}),{default:P(()=>[D(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),ar=A({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(n,o)=>(v(),q(d(or),se({"data-slot":"popover-trigger"},t),{default:P(()=>[D(n.$slots,"default")]),_:3},16))}});/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Tt("turtle",[["path",{d:"m12 10 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a8 8 0 1 0-16 0v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3l2-4h4Z",key:"1lbbv7"}],["path",{d:"M4.82 7.9 8 10",key:"m9wose"}],["path",{d:"M15.18 7.9 12 10",key:"p8dp2u"}],["path",{d:"M16.93 10H20a2 2 0 0 1 0 4H2",key:"12nsm7"}]]);/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Tt("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),ur={class:"container mx-auto p-4 h-full"},cr=A({__name:"answer-msg",props:{isAnswerCorrect:{type:Boolean}},setup(e){const t=$(()=>e.isAnswerCorrect?"bg-green-500":"bg-red-500");return(n,o)=>(v(),_("div",{class:de(`absolute bottom-0 left-0 pb-18 w-full text-[20px] text-white ${t.value} transition-bg z-1`)},[S("div",ur,[D(n.$slots,"default")])],2))}}),dr={},fr={class:"flex flex-col gap-5 grow-1 pt-5"},pr={class:"flex flex-col grow-1"},mr={class:"w-full flex item-center gap-4"};function gr(e,t){return v(),_("div",fr,[D(e.$slots,"header"),S("div",pr,[D(e.$slots,"default")]),S("div",mr,[D(e.$slots,"footer")])])}const vr=qt(dr,[["render",gr]]),hr={class:"flex items-center gap-4"},yr=A({__name:"variant-header",props:{totalTasks:{},currentTaskNumber:{}},setup(e){const t=$(()=>(e.currentTaskNumber-1)/e.totalTasks*100),{progress:n}=Ct(Bt());return(o,r)=>{const s=rn("RouterLink");return v(),_("div",hr,[B(s,{to:`/sections/${d(n).section}`},{default:P(()=>[B(d(yn))]),_:1},8,["to"]),B(d(xn),{class:"h-4",modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=i=>t.value=i)},null,8,["modelValue"])])}}}),wr=A({__name:"task-btn",props:{variant:{default:"notChecked"},disabled:{type:Boolean}},emits:["click"],setup(e){const t=wn("relative w-full text-xl h-14 font-semibold uppercase z-2",{variants:{variant:{correct:"bg-green-600 hover:bg-green-700",incorrect:"bg-red-700 hover:bg-red-800",notChecked:""}}}),n={correct:"Next",incorrect:"Try again",notChecked:"Check"};return(o,r)=>(v(),q(d(we),{size:"lg",class:de(d(t)({variant:o.variant})),onClick:r[0]||(r[0]=s=>o.$emit("click")),disabled:o.disabled},{default:P(()=>[re(M(n[o.variant]),1)]),_:1},8,["class","disabled"]))}}),xr={class:"flex flex-col gap-4 items-center text-xl grow-1"},br=A({__name:"lesson-end-screen",props:{result:{}},setup(e){return(t,n)=>(v(),_("div",xr,[n[0]||(n[0]=S("h1",{class:"font-montserrat text-2xl font-bold"},"Level finished",-1)),B(d(On),{class:"my-auto"},{default:P(()=>[B(d(An),null,{default:P(()=>[S("p",null,"Correct: "+M(t.result.correct),1),S("p",null,"Mistakes: "+M(t.result.mistakes),1)]),_:1})]),_:1})]))}});function Le(e){return e.map((t,n,o)=>{if(t.translations.length===0)return;const r=o[n+1];return r&&r.translations.length===0?{...t,text:t.text+r.text}:t}).filter(t=>t!==void 0)}function wt(e){const t=e.split("+");return t.length===1?t[0]:t.join(" ")}function Xt(e){return e.map(t=>t.text).join(" ")}function xt(e){return e.hasOwnProperty("input")}function _r(e){return e.type!=="translate-all"&&e.type!=="select-word-by-image"&&e.type!=="match-words"&&e.type!=="write-part"}function kr({sectionNumber:e,unitNumber:t,lessonNumber:n,variantNumber:o}){return sn(`/sections/${e}/units/${t}/lessons/${n}/variants/${o}`).json()}const Cr={class:"flex items-center gap-1 h-full"},Pr=A({__name:"voiceover-btn",props:{isPlaying:{type:Boolean}},emits:["play-audio"],setup(e){const t=[3,7,5,2,7,5,7,5,3,4,7,5,7,5];return(n,o)=>(v(),_("button",{onClick:o[0]||(o[0]=r=>n.$emit("play-audio")),class:"flex items-center gap-2 py-4 px-6 border-2 border-gray-200 rounded-full hover:border-gray-300 transition-all"},[B(d(Kt),{class:"w-7 h-7"}),S("div",Cr,[(v(),_(H,null,ie(t,(r,s)=>S("div",{key:s,class:de([`w-[3px] shrink-0 ${n.isPlaying?"bg-blue-400":"bg-gray-400"} rounded-full bar`,{playing:n.isPlaying}]),style:Ye({height:`${r*4}px`})},null,6)),64))])]))}}),Ar=qt(Pr,[["__scopeId","data-v-29a9b5df"]]),Or=A({__name:"slow-voiceover-btn",emits:["play-audio"],setup(e){return(t,n)=>(v(),_("button",{onClick:n[0]||(n[0]=o=>t.$emit("play-audio")),class:"flex items-center gap-2 py-4 px-6 border-2 border-gray-200 rounded-full hover:border-gray-300 transition-all"},[B(d(lr),{class:"w-7 h-7"})]))}}),Yt=an("speech",()=>{const e=R(""),t=kt(1),n=ln(e,{lang:"es-AR",rate:t}),o=$(()=>n.isPlaying.value),r=$(()=>n.status.value),s=$(()=>n.error.value);function i(a,u={rate:1}){n.stop(),t.value=u.rate,a&&(e.value=a),n.speak()}function l(){n.stop()}return{text:e,isPlaying:o,status:r,error:s,speak:i,stop:l}}),$r={class:"flex items-center gap-4"},Gt=A({__name:"voiceover-block",props:{text:{}},setup(e){const t=Yt(),n=e.text.split(" ").join("... ");return(o,r)=>(v(),_("div",$r,[B(Ar,{"is-playing":d(t).isPlaying,onPlayAudio:r[0]||(r[0]=s=>d(t).speak(o.text))},null,8,["is-playing"]),B(Or,{onPlayAudio:r[1]||(r[1]=s=>d(t).speak(d(n),{rate:.6}))})]))}}),Sr={class:"flex flex-col gap-4 grow-1"},qr={class:"font-bold text-[25px] font-montserrat"},Br={class:"flex items-senter gap-4"},Rr=A({__name:"task-listen-and-write-all",props:W({data:{}},{answer:{type:String,required:!0},answerModifiers:{}}),emits:W(["play-audio"],["update:answer"]),setup(e){const t=ue(e,"answer"),n=Xt(Le(e.data.text));return(o,r)=>(v(),_("div",Sr,[S("h1",qr,M(d(ke)[o.data.type]),1),S("div",Br,[B(Gt,{onPlayAudio:r[0]||(r[0]=s=>o.$emit("play-audio",d(n))),text:d(n)},null,8,["text"])]),B(d(Ut),{placeholder:"Text",class:"grow-2 h-30 resize-none border-2 border-gray-200",modelValue:t.value,"onUpdate:modelValue":r[1]||(r[1]=s=>t.value=s)},null,8,["modelValue"])]))}}),Tr={class:"grow-1 border-2 border-2-gray-300 p-2 rounded-2xl"},Er={class:"flex flex-wrap gap-2 justify-center"},Vr={class:"border-2 border-2-gray-300 p-2 rounded-2xl min-h-[108px]"},Dr={class:"flex flex-wrap gap-2 justify-center"},Fr=A({__name:"task-select-words",props:W({text:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=ue(e,"modelValue"),n=R(e.text),o=$(()=>t.value.split(" ").filter(i=>i.length>0));function r(i){t.value+=` ${i.text}`,n.value=n.value.filter(l=>l.id!==i.id)}function s(i){const l=e.text.find(a=>a.text===i);l&&(t.value=t.value.replace(` ${i}`,""),n.value.push(l))}return(i,l)=>(v(),_(H,null,[S("div",Tr,[S("div",Er,[(v(!0),_(H,null,ie(o.value,(a,u)=>(v(),q(d(we),{key:u,size:"lg",class:"text-md",variant:"secondary",onClick:c=>s(a)},{default:P(()=>[re(M(a),1)]),_:2},1032,["onClick"]))),128))])]),S("div",Vr,[S("div",Dr,[(v(!0),_(H,null,ie(n.value,a=>(v(),q(d(we),{key:a.id,size:"lg",class:"text-md",variant:"secondary",onClick:u=>r(a)},{default:P(()=>[re(M(a.text),1)]),_:2},1032,["onClick"]))),128))])])],64))}}),Mr={class:"flex flex-col gap-4 grow-1"},Lr={class:"font-bold text-[25px] font-montserrat"},Nr={class:"flex items-senter gap-4"},Wr=A({__name:"task-listen-and-place-in-order",props:W({data:{}},{answer:{required:!0},answerModifiers:{}}),emits:W(["play-audio"],["update:answer"]),setup(e){const t=ue(e,"answer"),n=Xt(Le(e.data.text));return(o,r)=>(v(),_("div",Mr,[S("h1",Lr,M(d(ke)[o.data.type]),1),S("div",Nr,[B(Gt,{onPlayAudio:r[0]||(r[0]=s=>o.$emit("play-audio",d(n))),text:d(n)},null,8,["text"])]),B(Fr,{modelValue:t.value,"onUpdate:modelValue":r[1]||(r[1]=s=>t.value=s),text:o.data.text},null,8,["modelValue","text"])]))}}),zr={class:"flex flex-col gap-2"},st=A({__name:"task-word",props:{word:{}},emits:["click"],setup(e){return(t,n)=>(v(),q(d(sr),null,{default:P(()=>[B(d(ar),{"as-child":""},{default:P(()=>[S("span",{onClick:n[0]||(n[0]=o=>t.$emit("click",t.word.text)),class:"inline-block border-b-3 border-gray-200 border-dotted font-semibold text-gray-700 cursor-pointer hover:text-gray-900"},M(t.word.text),1)]),_:1}),B(d(ir),{class:"min-w-0 w-auto"},{default:P(()=>[S("div",zr,[(v(!0),_(H,null,ie(t.word.translations,(o,r)=>(v(),_("div",{key:r},M(o),1))),128))])]),_:1})]),_:1}))}}),Ir={class:"flex flex-col gap-4 grow-1"},jr={class:"font-bold text-[25px] font-montserrat"},Hr={class:"flex flex-wrap items-center gap-1 text-[18px]"},Ur=A({__name:"task-translate-all",props:W({data:{}},{answer:{type:String,required:!0},answerModifiers:{}}),emits:W(["play-audio"],["update:answer"]),setup(e){const t=ue(e,"answer"),n=Le(e.data.text);return(o,r)=>(v(),_("div",Ir,[S("h1",jr,M(d(ke)[o.data.type]),1),S("p",Hr,[S("button",{class:"mr-2",onClick:r[0]||(r[0]=s=>o.$emit("play-audio",d(n).map(i=>i.text).join(" ")))},[B(d(Kt),{class:"w-7 h-7"})]),(v(!0),_(H,null,ie(d(n),s=>(v(),q(st,{key:s.id,word:s,onClick:i=>o.$emit("play-audio",s.text)},null,8,["word","onClick"]))),128))]),B(d(Ut),{placeholder:"Translation",class:"grow-1 h-30 resize-none border-2 border-gray-200",modelValue:t.value,"onUpdate:modelValue":r[1]||(r[1]=s=>t.value=s)},null,8,["modelValue"])]))}});function Kr(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}const Xr={class:"flex gap-2 justify-center my-auto"},Yr={class:"grow-1 flex flex-col gap-2"},Gr={class:"grow-1 flex flex-col gap-2"},Qr=A({__name:"match-words",props:W({words:{},result:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=ue(e,"modelValue"),n=R(""),o=$(()=>Kr(e.words.map(p=>p.text))),r=$(()=>e.words.map(p=>p.translations[0]));function s(p){n.value===p?n.value="":n.value=p}function i(p){n.value&&(t.value[n.value]=p,n.value="")}function l(p){return n.value===p?"selected":t.value[p]===e.result[p]?"correct":t.value[p]?"incorrect":"default"}function a(p){return c(p)&&u(p)?"correct":c(p)&&!u(p)?"incorrect":"default"}function u(p){for(const[g,m]of Object.entries(t.value))if(m===p)return m===e.result[g]}function c(p){return Object.values(t.value).includes(p)}const f={default:"",selected:"bg-gray-200",correct:"border-green-400",incorrect:"border-red-400"};return(p,g)=>(v(),_("div",Xr,[S("div",Yr,[(v(!0),_(H,null,ie(r.value,m=>(v(),q(d(we),{key:m,variant:"outline",onClick:h=>s(m),size:"lg",class:de(["text-xl w-full h-15 capitalize",f[l(m)]]),disabled:l(m)==="correct"},{default:P(()=>[re(M(d(wt)(m)),1)]),_:2},1032,["onClick","class","disabled"]))),128))]),S("div",Gr,[(v(!0),_(H,null,ie(o.value,m=>(v(),q(d(we),{key:m,variant:"outline",onClick:h=>i(m),size:"lg",class:de(["text-xl w-full h-15 capitalize",f[a(m)]]),disabled:a(m)==="correct"},{default:P(()=>[re(M(d(wt)(m)),1)]),_:2},1032,["onClick","class","disabled"]))),128))])]))}}),Zr={class:"flex flex-col gap-4 grow-1"},Jr={class:"font-bold text-[25px] font-montserrat"},es=A({__name:"task-match-words",props:W({data:{}},{answer:{required:!0},answerModifiers:{}}),emits:W(["play-audio"],["update:answer"]),setup(e){const t=ue(e,"answer"),n=Object.fromEntries(e.data.result.split(" ").map(r=>r.split("-")).map(r=>[r[0],r[1]]));console.log(n);const o=R(Object.fromEntries(e.data.result.split(" ").map(r=>r.split("-")).map(r=>[r[0],""])));return qe(o,()=>{const r=Object.keys(o.value).every(s=>o.value[s]===n[s]);console.log(r),r&&(t.value=e.data.result)},{deep:!0}),(r,s)=>(v(),_("div",Zr,[S("h1",Jr,M(d(ke)[r.data.type]),1),B(Qr,{words:r.data.words,result:d(n),modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=i=>o.value=i)},null,8,["words","result","modelValue"])]))}}),ts={class:"flex flex-col gap-4 grow-1"},ns={class:"font-bold text-[25px] font-montserrat"},os={class:"text-lg"},rs={class:"flex flex-wrap items-center gap-1 text-[18px]"},ss=15,is=A({__name:"task-write-part",props:W({data:{}},{answer:{type:String,required:!0},answerModifiers:{}}),emits:W(["play-audio"],["update:answer"]),setup(e){const t=ue(e,"answer"),n=Le(e.data.text),o=R([]);function r(s,i){o.value[s]=i,t.value=o.value.join(" ")}return Xe(()=>{o.value=n.map(s=>xt(s)?"":s.text),t.value=o.value.join(" ")}),(s,i)=>(v(),_("div",ts,[S("h1",ns,M(d(ke)[s.data.type]),1),S("p",os,M(s.data.translation),1),S("p",rs,[(v(!0),_(H,null,ie(d(n),(l,a)=>(v(),_(H,{key:l.id},[d(xt)(l)?(v(),q(d(rr),{key:1,modelValue:o.value[a],"onUpdate:modelValue":u=>o.value[a]=u,onInput:u=>r(a,u.target.value),class:"mx-1 py-1 px-2 min-w-[45px]",style:Ye({width:`${l.text.length*ss}px`})},null,8,["modelValue","onUpdate:modelValue","onInput","style"])):(v(),q(st,{key:0,word:l,onClick:u=>s.$emit("play-audio",l.text)},null,8,["word","onClick"]))],64))),128))])]))}}),as=["src","alt"],ls=A({__name:"task-word-card",props:{word:{},isSelected:{type:Boolean}},emits:["click"],setup(e){return(t,n)=>(v(),_("button",{class:de(["aspect-square flex items-center justify-center p-4 border-2 rounded-xl transition-all",t.isSelected?"border-blue-400":"border-gray-200 hover:border-gray-300"]),onClick:n[0]||(n[0]=o=>t.$emit("click",t.word.text))},[S("img",{src:t.word.img,alt:t.word.text,class:"w-full h-full rounded-lg"},null,8,as)],2))}}),us={class:"grid grid-cols-2 grid-rows-2 gap-3 my-auto"},cs=A({__name:"text-select-word",props:W({words:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=ue(e,"modelValue");function n(o){t.value=o}return(o,r)=>(v(),_("div",us,[(v(!0),_(H,null,ie(o.words,s=>(v(),q(ls,{key:s.id,word:s,"is-selected":s.text===t.value,onClick:i=>n(s.text)},null,8,["word","is-selected","onClick"]))),128))]))}}),ds={class:"flex flex-col gap-4 grow-1"},fs={class:"font-bold text-[25px] font-montserrat"},ps={class:"text-xl"},ms=A({__name:"task-select-word-by-image",props:W({data:{}},{answer:{required:!0},answerModifiers:{}}),emits:W(["play-audio"],["update:answer"]),setup(e){const t=ue(e,"answer");return(n,o)=>(v(),_("div",ds,[S("h1",fs,M(d(ke)[n.data.type]),1),S("p",ps,[B(st,{word:n.data.wordToGuess,onClick:o[0]||(o[0]=r=>n.$emit("play-audio",n.data.wordToGuess.text))},null,8,["word"])]),B(cs,{modelValue:t.value,"onUpdate:modelValue":o[1]||(o[1]=r=>t.value=r),words:n.data.words},null,8,["modelValue","words"])]))}}),gs={"listen-and-write-all":Rr,"listen-and-place-in-order":Wr,"translate-all":Ur,"write-part":is,"select-word-by-image":ms,"match-words":es},ke={"listen-and-write-all":"Listen and write all","listen-and-place-in-order":"Place words in order","translate-all":"Translate text","write-part":"Fill in the gaps in the text","select-word-by-image":"Select word by image","match-words":"Match words and translations"};function vs(){const e=R(""),t=R(!1),n=R(!1),o=$(i);function r(u){if(console.log("check"),!u)return;const c=s(u);console.log(c),t.value=c,n.value=!0}function s(u){return Array.isArray(u)?u.includes(e.value.trim().toLowerCase()):u===e.value.trim().toLowerCase()}function i(){return n.value?t.value?"correct":"incorrect":"notChecked"}function l(){e.value="",n.value=!1}function a(){n.value=!1}return{answerValue:e,isCorrect:t,isChecked:n,variant:o,checkAnswer:r,handleCorrect:l,handleIncorrect:a}}const hs=1;function ys(e,t,n){const o=Bt(),r=R("in-progress"),s=R(hs),i=$(()=>e.value?.tasks.find(f=>f.number===s.value)),l=$(()=>e.value?.tasks[e.value.tasks.length-1].number),a={notChecked:()=>t.checkAnswer(i.value?.result),correct:()=>{t.handleCorrect(),n.increaseCorrect(),l.value===s.value&&(r.value="finished",o.updateProgress()),s.value++},incorrect:()=>{t.handleIncorrect(),n.increaseMistakes()}},u=()=>{t.variant==="incorrect"&&n.increaseMistakes(),t.answerValue="",t.isChecked=!1,s.value++};function c(){const f=t.variant;a[f]()}return{state:r,currentTask:i,currentTaskNumber:s,skip:u,handleBtnClick:c}}function ws(){const e=R({mistakes:0,correct:0});function t(){e.value.mistakes++}function n(){e.value.correct++}function o(){e.value={mistakes:0,correct:0}}return{result:e,reset:o,increaseMistakes:t,increaseCorrect:n}}function xs(){const e=un();return{sectionNumber:parseInt(e.params.sectionNumber),unitNumber:parseInt(e.params.unitNumber),lessonNumber:parseInt(e.params.lessonNumber),variantNumber:parseInt(e.params.variantNumber)}}const bs={key:0},_s={key:0,class:"text-[18px]"},ks={key:1},Cs=A({__name:"lesson-footer",props:{isAnswerCorrect:{type:Boolean},isAnswerChecked:{type:Boolean},currentTask:{}},emits:["skip"],setup(e){return(t,n)=>(v(),_(H,null,[D(t.$slots,"task-btn"),t.isAnswerChecked?(v(),q(d(cr),{key:0,"is-answer-correct":t.isAnswerCorrect},{default:P(()=>[t.isAnswerCorrect?(v(),_("p",bs,[n[1]||(n[1]=re(" Correct ",-1)),n[2]||(n[2]=S("br",null,null,-1)),d(_r)(t.currentTask)?(v(),_("span",_s," Translation: "+M(t.currentTask.translation),1)):oe("",!0)])):oe("",!0),t.isAnswerChecked&&!t.isAnswerCorrect?(v(),_("p",ks,[n[3]||(n[3]=re(" Incorrect. Please, try again or ",-1)),S("span",{class:"underline",onClick:n[0]||(n[0]=o=>t.$emit("skip"))},"skip"),n[4]||(n[4]=re(". ",-1))])):oe("",!0)]),_:1},8,["is-answer-correct"])):oe("",!0)],64))}}),Ps={key:0},As={key:1},Rs=A({__name:"lesson-page",setup(e){const t=xs(),{data:n,isFetching:o,error:r}=kr(t),s=Yt(),i=Ne(vs()),l=Ne(ws()),a=Ne(ys(n,i,l));return(u,c)=>(v(),_(H,null,[d(o)?(v(),_("p",Ps,"Loading...")):oe("",!0),d(r)?(v(),_("p",As,"An error occurred")):oe("",!0),d(n)?(v(),q(d(vr),{key:2},{header:P(()=>[B(d(yr),{"total-tasks":d(n).tasks.length,"current-task-number":a.currentTaskNumber},null,8,["total-tasks","current-task-number"])]),footer:P(()=>[a.currentTask&&a.state==="in-progress"?(v(),q(Cs,{key:0,"current-task":a.currentTask,"is-answer-correct":i.isCorrect,"is-answer-checked":i.isChecked,onSkip:a.skip},{"task-btn":P(()=>[B(d(wr),{variant:i.variant,disabled:!i.isChecked&&!i.answerValue,onClick:a.handleBtnClick},null,8,["variant","disabled","onClick"])]),_:1},8,["current-task","is-answer-correct","is-answer-checked","onSkip"])):oe("",!0),a.state==="finished"?(v(),q(d(we),{key:1,as:d(cn),to:`/sections/${d(t).sectionNumber}`,class:"w-full text-xl h-14 font-semibold uppercase"},{default:P(()=>[...c[1]||(c[1]=[re(" Continue ",-1)])]),_:1},8,["as","to"])):oe("",!0)]),default:P(()=>[a.state==="in-progress"&&a.currentTask?(v(),q(Pt(d(gs)[a.currentTask.type]),{key:a.currentTask.number,answer:i.answerValue,"onUpdate:answer":c[0]||(c[0]=f=>i.answerValue=f),data:a.currentTask,onPlayAudio:d(s).speak},null,40,["answer","data","onPlayAudio"])):(v(),q(d(br),{key:1,result:l.result},null,8,["result"]))]),_:1})):oe("",!0)],64))}});export{Rs as default};
