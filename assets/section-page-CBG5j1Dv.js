import{c as P,t as E,s as M,w as z,q as F,g as H,v as A,d as N,a as k,o as m,u as l,m as q,b as w,x as Z,f as p,y as _,j as K,k as I,r as G,l as g,F as S,z as T,A as J,R as Q,B as X}from"./index-Bwz__cyJ.js";import{e as Y,t as W,n as tt,f as C,g as et,i as at,P as nt,c as st,_ as rt,b as ot,a as it,d as lt}from"./index-BXQ7D4pW.js";const U=a=>typeof a=="boolean"?`${a}`:a===0?"0":a,j=Y,ut=(a,t)=>e=>{var n;if(t?.variants==null)return j(a,e?.class,e?.className);const{variants:r,defaultVariants:s}=t,u=Object.keys(r).map(o=>{const i=e?.[o],d=s?.[o];if(i===null)return null;const f=U(i)||U(d);return r[o][f]}),c=e&&Object.entries(e).reduce((o,i)=>{let[d,f]=i;return f===void 0||(o[d]=f),o},{}),v=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((o,i)=>{let{class:d,className:f,...x}=i;return Object.entries(x).every(h=>{let[V,b]=h;return Array.isArray(b)?b.includes({...s,...c}[V]):{...s,...c}[V]===b})?[...o,d,f]:o},[]);return j(a,u,v,e?.class,e?.className)},ct=at?window:void 0;function $(a){var t;const e=E(a);return(t=e?.$el)!=null?t:e}function dt(){const a=M(!1),t=H();return t&&F(()=>{a.value=!0},t),a}function mt(a){const t=dt();return P(()=>(t.value,!!a()))}function ft(a,t,e={}){const{root:n,rootMargin:r="0px",threshold:s=0,window:u=ct,immediate:c=!0}=e,v=mt(()=>u&&"IntersectionObserver"in u),o=P(()=>{const h=E(a);return W(h).map($).filter(tt)});let i=C;const d=M(c),f=v.value?z(()=>[o.value,$(n),d.value],([h,V])=>{if(i(),!d.value||!h.length)return;const b=new IntersectionObserver(t,{root:$(V),rootMargin:r,threshold:s});h.forEach(B=>B&&b.observe(B)),i=()=>{b.disconnect(),i=C}},{immediate:c,flush:"post"}):C,x=()=>{i(),f(),d.value=!1};return et(x),{isSupported:v,isActive:d,pause(){i(),d.value=!1},resume(){d.value=!0},stop:x}}/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vt=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),ht=a=>{const t=vt(a);return t.charAt(0).toUpperCase()+t.slice(1)},bt=(...a)=>a.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),L=a=>a==="";/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=({name:a,iconNode:t,absoluteStrokeWidth:e,"absolute-stroke-width":n,strokeWidth:r,"stroke-width":s,size:u=y.width,color:c=y.stroke,...v},{slots:o})=>A("svg",{...y,...v,width:u,height:u,stroke:c,"stroke-width":L(e)||L(n)||e===!0||n===!0?Number(r||s||y["stroke-width"])*24/Number(u):r||s||y["stroke-width"],class:bt("lucide",v.class,...a?[`lucide-${R(ht(a))}-icon`,`lucide-${R(a)}`]:["lucide-icon"])},[...t.map(i=>A(...i)),...o.default?[o.default()]:[]]);/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=(a,t)=>(e,{slots:n,attrs:r})=>A(gt,{...r,...e,iconNode:t,name:a},n);/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=O("book-text",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]]);/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=O("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=O("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),yt=N({__name:"lesson-btn",props:{asChild:{type:Boolean},as:{default:"button"},variant:{},class:{}},setup(a){const t=a,e={completed:_t,unreached:D,active:D},n=ut("w-17 h-17 flex items-center justify-center rounded-full",{variants:{variant:{active:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90 [&_svg]:fill-primary-foreground",unreached:"bg-gray-200 text-gray-800 shadow-xs hover:bg-gray-300 [&_svg]:fill-gray-800",completed:"bg-gray-200 text-gray-800 shadow-xs hover:bg-gray-300"}}});return(r,s)=>(m(),k(l(nt),q(t,{"as-child":t.asChild,as:t.as,class:l(st)(l(n)({variant:t.variant}),t.class)}),{default:w(()=>[(m(),k(Z(e[t.variant]),{class:"w-8 h-8 stroke-3"}))]),_:1},16,["as-child","as","class"]))}}),wt={class:"font-bold text-lg text-gray-800"},xt={class:"flex items-center justify-center w-16 h-full"},Vt=N({__name:"unit-desc-card",props:{title:{},subtitle:{}},setup(a){const t=a;return(e,n)=>(m(),k(l(rt),{class:"flex-row gap-0 py-0"},{default:w(()=>[p(l(it),{class:"gap-0 flex-grow p-4"},{default:w(()=>[p(l(ot),{class:"uppercase font-semibold text-gray-600"},{default:w(()=>[K(I(t.title),1)]),_:1}),_("p",wt,I(t.subtitle),1)]),_:1}),p(l(lt),{class:"flex items-center p-0 border-l-2 border-gray-200"},{default:w(()=>[_("button",xt,[p(l(pt),{class:"w-8 h-8 stroke-gray-800"})])]),_:1})]),_:1}))}});function kt(a,t){const e=M(null),n=G(a);return ft(e,([r])=>{if(r.isIntersecting){console.log(r);const s=parseInt(r.target.getAttribute("data-unit"));if(!s)return;const u=t.find(c=>c.number===s)?.title;s&&u&&(n.value.unitNumber=s,n.value.unitTitle=u)}},{threshold:new Array(t.length).fill(.7)}),{targetRef:e,desc:n}}const Nt={class:"flex flex-col items-center gap-8"},Ct=["data-unit"],$t={key:0,class:"w-full flex items-center gap-2 mb-8"},At={class:"font-bold text-gray-400 text-xl"},It={class:"flex flex-col items-center gap-6"},Mt=N({__name:"units-list",props:{sectionNumber:{},data:{}},setup(a){const{targetRef:t,desc:e}=kt({unitTitle:a.data[0].title,unitNumber:a.data[0].number},a.data);return(n,r)=>(m(),g("div",Nt,[p(Vt,{title:`Section ${n.sectionNumber}, Unit ${l(e).unitNumber}`,subtitle:l(e).unitTitle,class:"fixed top-5 left-4 right-4"},null,8,["title","subtitle"]),(m(!0),g(S,null,T(n.data,(s,u)=>(m(),g("div",{class:"w-full",key:s.number,"data-unit":s.number,ref_for:!0,ref_key:"targetRef",ref:t},[u!==0?(m(),g("h2",$t,[r[0]||(r[0]=_("div",{class:"h-0.5 flex-grow bg-gray-200"},null,-1)),_("span",At,I(s.title),1),r[1]||(r[1]=_("div",{class:"h-0.5 flex-grow bg-gray-200"},null,-1))])):J("",!0),_("div",It,[(m(!0),g(S,null,T(s.lessons,c=>(m(),k(yt,{as:l(Q),variant:"unreached",to:`/sections/${s.sectionNumber}/lessons/${c.number}/variants/${c.currentVariant}`,key:c.number},null,8,["as","to"]))),128))])],8,Ct))),128))]))}}),Ot={UNITS:[{number:1,sectionNumber:1,title:"Use basic phrases",description:"Description of unit 2",lessons:[{number:1,totalVariants:5,currentVariant:1},{number:2,totalVariants:5,currentVariant:1},{number:3,totalVariants:3,currentVariant:1},{number:4,totalVariants:3,currentVariant:1},{number:6,totalVariants:1,currentVariant:1}]},{number:2,sectionNumber:1,title:"Form the plural",description:"Description of unit 2",lessons:[{number:1,totalVariants:5,currentVariant:1},{number:2,totalVariants:5,currentVariant:1},{number:3,totalVariants:3,currentVariant:1},{number:4,totalVariants:3,currentVariant:1},{number:5,totalVariants:1,currentVariant:1}]}]},Bt={class:"relative pt-25"},Ut=N({__name:"section-page",setup(a){const t=X(),e=parseInt(t.params.sectionNumber),n=Ot.UNITS.filter(r=>r.sectionNumber===e);return(r,s)=>(m(),g("div",Bt,[p(l(Mt),{sectionNumber:l(e),data:l(n)},null,8,["sectionNumber","data"])]))}});export{Ut as default};
