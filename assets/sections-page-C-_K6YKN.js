import{u as W,P as T,r as X,c as z,_ as K,a as Q,b as H,d as Y}from"./card-title.vue_vue_type_script_setup_true_lang-DLip1J7M.js";import{i as Z,p as ee,g as I,r as N,w as V,c as j,t as te,n as L,d as _,a as x,o as d,b as p,e as M,u as a,m as B,f as g,h as ae,R as re,j as oe,k as D,l as m,q as E,F as k,s as se}from"./index-DG4YYm6t.js";function ne(){return W("/api/sections")}function le(e,t){const r=`${e}Context`,n=Symbol(r);return[s=>{const l=Z(n,s);if(l||l===null)return l;throw new Error(`Injection \`${n.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},s=>(ee(n,s),s)]}function A(e){return e==null}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ue=e=>typeof e<"u";function ie(e){var t;const r=te(e);return(t=r?.$el)!=null?t:r}function de(e){return JSON.parse(JSON.stringify(e))}function q(e,t,r,n={}){var o,u,s;const{clone:l=!1,passive:f=!1,eventName:J,deep:w=!1,defaultValue:U,shouldEmit:C}=n,c=I(),S=r||c?.emit||((o=c?.$emit)==null?void 0:o.bind(c))||((s=(u=c?.proxy)==null?void 0:u.$emit)==null?void 0:s.bind(c?.proxy));let b=J;t||(t="modelValue"),b=b||`update:${t.toString()}`;const R=i=>l?typeof l=="function"?l(i):de(i):i,O=()=>ue(e[t])?R(e[t]):U,F=i=>{C?C(i)&&S(b,i):S(b,i)};if(f){const i=O(),P=N(i);let y=!1;return V(()=>e[t],h=>{y||(y=!0,P.value=R(h),L(()=>y=!1))}),V(P,h=>{!y&&(h!==e[t]||w)&&F(h)},{deep:w}),P}else return j({get(){return O()},set(i){F(i)}})}function G(){const e=I(),t=N(),r=j(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:ie(t)),n=Object.assign({},e.exposed),o={};for(const s in e.props)Object.defineProperty(o,s,{enumerable:!0,configurable:!0,get:()=>e.props[s]});if(Object.keys(n).length>0)for(const s in n)Object.defineProperty(o,s,{enumerable:!0,configurable:!0,get:()=>n[s]});Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=o;function u(s){t.value=s,s&&(Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>s instanceof Element?s:s.$el}),e.exposed=o)}return{forwardRef:u,currentRef:t,currentElement:r}}const v=100,[ce,fe]=le("ProgressRoot"),$=e=>typeof e=="number";function pe(e,t){return A(e)||$(e)&&!Number.isNaN(e)&&e<=t&&e>=0?e:(console.error(`Invalid prop \`value\` of value \`${e}\` supplied to \`ProgressRoot\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${v} if no \`max\` prop is set)
  - \`null\`  or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`),null)}function me(e){return $(e)&&!Number.isNaN(e)&&e>0?e:(console.error(`Invalid prop \`max\` of value \`${e}\` supplied to \`ProgressRoot\`. Only numbers greater than 0 are valid max values. Defaulting to \`${v}\`.`),v)}var ge=_({__name:"ProgressRoot",props:{modelValue:{type:[Number,null],required:!1},max:{type:Number,required:!1,default:v},getValueLabel:{type:Function,required:!1,default:(e,t)=>$(e)?`${Math.round(e/t*v)}%`:void 0},getValueText:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue","update:max"],setup(e,{emit:t}){const r=e,n=t;G();const o=q(r,"modelValue",n,{passive:r.modelValue===void 0}),u=q(r,"max",n,{passive:r.max===void 0});V(()=>o.value,async l=>{const f=pe(l,r.max);f!==l&&(await L(),o.value=f)},{immediate:!0}),V(()=>r.max,l=>{const f=me(r.max);f!==l&&(u.value=f)},{immediate:!0});const s=j(()=>A(o.value)?"indeterminate":o.value===u.value?"complete":"loading");return fe({modelValue:o,max:u,progressState:s}),(l,f)=>(d(),x(a(T),{"as-child":l.asChild,as:l.as,"aria-valuemax":a(u),"aria-valuemin":0,"aria-valuenow":$(a(o))?a(o):void 0,"aria-valuetext":l.getValueText?.(a(o),a(u)),"aria-label":l.getValueLabel(a(o),a(u)),role:"progressbar","data-state":s.value,"data-value":a(o)??void 0,"data-max":a(u)},{default:p(()=>[M(l.$slots,"default",{modelValue:a(o)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"]))}}),ve=ge,_e=_({__name:"ProgressIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,r=ce();return G(),(n,o)=>(d(),x(a(T),B(t,{"data-state":a(r).progressState.value,"data-value":a(r).modelValue?.value??void 0,"data-max":a(r).max.value}),{default:p(()=>[M(n.$slots,"default")]),_:3},16,["data-state","data-value","data-max"]))}}),xe=_e;const be=_({__name:"ui-progress",props:{modelValue:{default:0},max:{},getValueLabel:{},getValueText:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,r=X(t,"class");return(n,o)=>(d(),x(a(ve),B({"data-slot":"progress"},a(r),{class:a(z)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t.class)}),{default:p(()=>[g(a(xe),{"data-slot":"progress-indicator",class:"bg-primary h-full w-full flex-1 transition-all",style:ae(`transform: translateX(-${100-(t.modelValue??0)}%);`)},null,8,["style"])]),_:1},16,["class"]))}}),ye=_({__name:"section-card",props:{data:{},to:{}},setup(e){const t=N(e.data.progress);return(r,n)=>(d(),x(a(K),{as:a(re),to:r.to,class:"gap-2",hoverable:""},{default:p(()=>[g(a(Q),null,{default:p(()=>[g(a(H),{class:"font-bold text-2xl text-gray-800"},{default:p(()=>[oe(D(r.data.title),1)]),_:1})]),_:1}),g(a(Y),null,{default:p(()=>[g(a(be),{class:"h-4",modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=o=>t.value=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["as","to"]))}}),he={key:0,class:""},Ve={key:1,class:"flex flex-col gap-4"},$e={key:2,class:"text-red-500"},Ne=_({__name:"sections-page",setup(e){const{data:t,isFetching:r,error:n}=ne().json();return(o,u)=>(d(),m(k,null,[a(r)?(d(),m("p",he,"Loading...")):E("",!0),a(t)?(d(),m("div",Ve,[(d(!0),m(k,null,se(a(t),s=>(d(),x(a(ye),{key:s.number,data:s,to:`/sections/${s.number}`},null,8,["data","to"]))),128))])):E("",!0),a(n)?(d(),m("p",$e,"Error: "+D(a(n).message),1)):E("",!0)],64))}});export{Ne as default};
